module.exports=[96221,a=>{"use strict";let b=(0,a.i(70106).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],96221)},16201,a=>{"use strict";let b=(0,a.i(70106).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);a.s(["CheckCircle",()=>b],16201)},41710,a=>{"use strict";let b=(0,a.i(70106).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);a.s(["Clock",()=>b],41710)},5463,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(20237);a.i(69387);var f=a.i(60574);function g(a,b){let c=b.length.toString().padStart(2,"0");return`${a}${c}${b}`}let h=function({pixKey:a,amount:b,txid:c="***",merchantName:d="Loja",merchantCity:e="Cidade"}){let f=g("00","BR.GOV.BCB.PIX")+g("01",a),h="";h+=g("00","01"),h+=g("01","12"),h+=g("26",f),h+=g("52","0000"),h+=g("53","986"),null!=b&&(h+=g("54",b.toFixed(2))),h+=g("58","BR"),h+=g("59",d.substring(0,25)),h+=g("60",e.substring(0,15));let i=function(a){let b=65535,c=new TextEncoder().encode(a);for(let a=0;a<c.length;a++){b^=c[a]<<8;for(let a=0;a<8;a++)b=32768&b?(b<<1^4129)&65535:b<<1&65535}return b.toString(16).toUpperCase().padStart(4,"0")}((h+=g("62",g("05",c.substring(0,25))))+"6304");return h+g("63",i)};var i=a.i(96221),j=a.i(16201),k=a.i(41710);function l(){let a=(0,d.useParams)().orderId,g=(0,d.useRouter)(),[l,m]=(0,c.useState)(null),[n,o]=(0,c.useState)(!0);if((0,c.useEffect)(()=>{if(!a)return;let b=(0,f.doc)(e.db,"orders",a),c=(0,f.onSnapshot)(b,a=>{a.exists()?m({id:a.id,...a.data()}):m(null),o(!1)});return()=>c()},[a]),n)return(0,b.jsx)("div",{className:"flex justify-center items-center h-[60vh]",children:(0,b.jsx)(i.Loader2,{className:"h-10 w-10 text-sky-400 animate-spin"})});if(!l)return(0,b.jsx)("div",{className:"max-w-4xl mx-auto px-4 py-12 text-center",children:(0,b.jsx)("h1",{className:"text-2xl font-bold text-white mb-4",children:"Pedido nÃ£o encontrado"})});let p=l.payment?.pixPayload||h({pixKey:process.env.NEXT_PUBLIC_PIX_KEY||"12345678901234567890",amount:l.total,txid:l.id.substring(0,25),merchantName:"Eder Martins",merchantCity:"Santa Catarina"}),q=`https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=${encodeURIComponent(p)}`;return(0,b.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-12 animate-fade-in",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-white",children:"ðŸ’³ Pagamento do Pedido"}),(0,b.jsxs)("p",{className:"text-sm text-slate-400 mt-2",children:["Pedido #",l.id.slice(0,8)," â€” R$ ",l.total.toFixed(2)]})]}),(0,b.jsx)("button",{onClick:()=>g.push("/dashboard/client"),className:"text-sky-400 hover:text-sky-300",children:"Voltar"})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"glass-panel rounded-2xl p-6 border-sky-500/30",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[l.payment?.status==="paid"?(0,b.jsx)(j.CheckCircle,{className:"h-6 w-6 text-green-400"}):(0,b.jsx)(k.Clock,{className:"h-6 w-6 text-amber-400"}),(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:l.payment?.status==="paid"?"âœ… Pagamento Confirmado!":"â³ Aguardando Pagamento"})]}),(0,b.jsx)("p",{className:"text-slate-400 mb-4",children:l.payment?.status==="paid"?"Seu pagamento foi confirmado. VocÃª receberÃ¡ em breve um email com os prÃ³ximos passos.":"Escaneie o QR Code abaixo ou copie a chave PIX para efetuar o pagamento."})]}),(0,b.jsxs)("div",{className:"glass-panel rounded-2xl p-6 border-sky-500/30",children:[(0,b.jsx)("h3",{className:"font-bold text-white mb-4 text-lg",children:"ðŸ“¦ Itens"}),(0,b.jsx)("div",{className:"space-y-2",children:l.items.map(a=>(0,b.jsxs)("div",{className:"flex justify-between items-center bg-slate-800/50 p-3 rounded-lg border border-slate-700",children:[(0,b.jsx)("span",{className:"font-medium text-slate-300",children:a.title}),(0,b.jsxs)("span",{className:"font-bold text-sky-300",children:["R$ ",a.price.toFixed(2)]})]},a.cartId))}),(0,b.jsxs)("div",{className:"mt-4 pt-4 border-t border-slate-700 flex justify-between items-center",children:[(0,b.jsx)("span",{className:"font-bold text-white text-lg",children:"Total:"}),(0,b.jsxs)("span",{className:"font-bold text-sky-300 text-2xl",children:["R$ ",l.total.toFixed(2)]})]})]}),l.payment?.method==="pix"&&l.payment?.status!=="paid"&&(0,b.jsxs)("div",{className:"glass-panel rounded-2xl p-8 border-sky-500/30",children:[(0,b.jsx)("h3",{className:"font-bold text-white mb-6 text-lg",children:"ðŸ“² Pagamento via PIX"}),(0,b.jsxs)("div",{className:"flex flex-col items-center mb-8",children:[(0,b.jsx)("img",{src:q,alt:"QR Code PIX",className:"rounded-xl border-2 border-sky-500/30 shadow-lg"}),(0,b.jsx)("p",{className:"text-sm text-slate-400 mt-4",children:"Escaneie este cÃ³digo com seu celular"})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 rounded-xl p-6 border border-slate-700",children:[(0,b.jsx)("p",{className:"text-xs text-slate-500 uppercase tracking-wider mb-2",children:"Chave PIX para Copiar"}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("code",{className:"flex-1 text-sky-300 font-mono text-sm break-all p-3 bg-slate-950 rounded-lg",children:process.env.NEXT_PUBLIC_PIX_KEY||"12345678901234567890"}),(0,b.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(process.env.NEXT_PUBLIC_PIX_KEY||"12345678901234567890"),alert("Chave copiada!")},className:"px-4 py-2 bg-sky-600 text-white rounded-lg font-semibold hover:bg-sky-700 transition-colors whitespace-nowrap",children:"Copiar"})]})]}),(0,b.jsxs)("div",{className:"mt-6 bg-slate-800/50 rounded-xl p-6 border border-slate-700",children:[(0,b.jsx)("p",{className:"text-xs text-slate-500 uppercase tracking-wider mb-2",children:"BR Code (para banco):"}),(0,b.jsx)("code",{className:"text-sky-300 font-mono text-xs break-all block p-3 bg-slate-950 rounded-lg max-h-24 overflow-y-auto",children:p})]})]}),l.payment?.method==="whatsapp"&&l.payment?.status!=="paid"&&(0,b.jsxs)("div",{className:"glass-panel rounded-2xl p-8 border-sky-500/30",children:[(0,b.jsx)("h3",{className:"font-bold text-white mb-4 text-lg",children:"ðŸ’¬ Pagamento via WhatsApp"}),(0,b.jsx)("p",{className:"text-slate-300 mb-6",children:"Clique no botÃ£o abaixo para iniciar uma conversa comigo pelo WhatsApp. Ele te guiarÃ¡ atravÃ©s do pagamento."}),(0,b.jsx)("a",{href:`https://wa.me/5548996241068?text=Ol\xe1!%20Gostaria%20de%20pagar%20o%20pedido%20%23${l.id.slice(0,8)}%20no%20valor%20de%20R$%20${l.total.toFixed(2)}`,target:"_blank",rel:"noopener noreferrer",className:"inline-block px-8 py-4 bg-green-600 text-white rounded-xl font-bold hover:bg-green-700 transition-colors",children:"ðŸ’š Iniciar Chat no WhatsApp"})]}),l.payment?.method==="card"&&l.payment?.status!=="paid"&&(0,b.jsxs)("div",{className:"glass-panel rounded-2xl p-8 border-sky-500/30",children:[(0,b.jsx)("h3",{className:"font-bold text-white mb-4 text-lg",children:"ðŸ’³ Pagamento com CartÃ£o"}),(0,b.jsx)("p",{className:"text-slate-400 mb-6",children:"VocÃª serÃ¡ redirecionado para o gateway de pagamento seguro para finalizar com cartÃ£o."}),(0,b.jsx)("button",{className:"px-8 py-4 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 transition-colors",children:"Pagar com CartÃ£o (Stripe)"})]}),l.payment?.method==="manual"&&l.payment?.status!=="paid"&&(0,b.jsxs)("div",{className:"glass-panel rounded-2xl p-8 border-sky-500/30",children:[(0,b.jsx)("h3",{className:"font-bold text-white mb-4 text-lg",children:"ðŸ“ž Pagamento Manual"}),(0,b.jsx)("p",{className:"text-slate-400 mb-6",children:"Agradecemos sua escolha. Entraremos em contato em breve para finalizar o pagamento."}),(0,b.jsxs)("p",{className:"text-sm text-slate-500",children:["Pedido: #",l.id.slice(0,8)," | Valor: R$ ",l.total.toFixed(2)]})]}),l.payment?.status==="paid"&&(0,b.jsx)("div",{className:"glass-panel rounded-2xl p-8 border-green-500/30 bg-green-500/10",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)(j.CheckCircle,{className:"h-16 w-16 text-green-400 mx-auto mb-4"}),(0,b.jsx)("h3",{className:"text-2xl font-bold text-green-300 mb-2",children:"Pagamento Confirmado!"}),(0,b.jsx)("p",{className:"text-slate-300",children:"Seu pedido serÃ¡ processado em breve. VocÃª receberÃ¡ atualizaÃ§Ãµes por email."})]})})]})]})}a.s(["default",()=>l],5463)}];

//# sourceMappingURL=_f96cc776._.js.map