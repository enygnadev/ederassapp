module.exports=[26704,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(20237);a.i(69387);var e=a.i(60574);a.i(60121);var f=a.i(5420),g=a.i(70106);let h=(0,g.default)("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);var i=a.i(83497),j=a.i(38784);let k=(0,g.default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);var l=a.i(20005),m=a.i(72692),n=a.i(33508),o=a.i(16201),p=a.i(41710),q=a.i(92e3),r=a.i(96221);let s=(0,g.default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);var t=a.i(15618),u=a.i(4720),v=a.i(90166);let w=(0,g.default)("arrow-up-right",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]),x=(0,g.default)("arrow-down-left",[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]]),y=(0,g.default)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),z=(0,g.default)("palette",[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]]);var A=a.i(81560),B=a.i(56025),C=a.i(50944),D=a.i(77156);let E=(0,g.default)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),F=(0,g.default)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),G=a=>`rgb(${a.r},${a.g},${a.b})`;function H({initialLayout:a,onSave:d}){let e=(0,c.useRef)(null),[f,g]=(0,c.useState)(a?.layers||[]),[h,i]=(0,c.useState)(null),[j,k]=(0,c.useState)(a?.backgroundColor||{r:2,g:12,b:27}),[l,m]=(0,c.useState)(a?.name||"Layout PadrÃ£o"),[n,o]=(0,c.useState)({width:a?.canvasWidth||1200,height:a?.canvasHeight||600}),p=f.find(a=>a.id===h),q=a=>{let b={id:Math.random().toString(36).substr(2,9),type:a,label:`${a} ${f.length+1}`,visible:!0,x:50,y:50,width:200,height:100,rotation:0,opacity:1,zIndex:f.length,text:"text"===a?"Novo Texto":void 0,fontSize:16,fontFamily:"inter",fontColor:{r:255,g:255,b:255},fontWeight:"normal",textAlign:"left",backgroundColor:{r:30,g:50,b:100},borderColor:{r:100,g:150,b:200},borderWidth:0,borderRadius:0};g([...f,b]),i(b.id)},r=(a,b)=>{g(f.map(c=>c.id===a?{...c,...b}:c))},s=({label:a,color:c,onChange:d})=>{let e;return(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-xs font-semibold text-slate-300",children:a}),(0,b.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,b.jsx)("input",{type:"color",value:(e=a=>a.toString(16).padStart(2,"0"),`#${e(c.r)}${e(c.g)}${e(c.b)}`),onChange:a=>{var b;let c;return d((b=a.target.value,(c=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(b))?{r:parseInt(c[1],16),g:parseInt(c[2],16),b:parseInt(c[3],16)}:{r:0,g:0,b:0}))},className:"w-12 h-10 rounded border border-sky-500/30 cursor-pointer"}),(0,b.jsx)("div",{className:"flex gap-1 flex-1",children:["r","g","b"].map(a=>(0,b.jsx)("input",{type:"range",min:"0",max:"255",value:c[a],onChange:b=>d({...c,[a]:parseInt(b.target.value)}),className:"flex-1 h-8"},a))}),(0,b.jsxs)("div",{className:"text-xs text-slate-400 w-16",children:[c.r,",",c.g,",",c.b]})]})]})};return(0,b.jsxs)("div",{className:"flex h-full gap-6 bg-[#020c1b] p-6",children:[(0,b.jsxs)("div",{className:"w-80 space-y-6 overflow-y-auto",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-semibold text-slate-300 block mb-2",children:"Nome do Layout"}),(0,b.jsx)("input",{type:"text",value:l,onChange:a=>m(a.target.value),className:"w-full px-3 py-2 bg-white/5 border border-sky-500/20 rounded text-white text-sm"})]}),(0,b.jsxs)("div",{className:"glass-panel p-4 rounded-lg border border-sky-500/20 space-y-3",children:[(0,b.jsx)("h3",{className:"text-sm font-bold text-sky-300",children:"ðŸ“ Tamanho do Canvas"}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"text-xs text-slate-400",children:["Largura: ",n.width,"px"]}),(0,b.jsx)("input",{type:"range",min:"400",max:"2000",value:n.width,onChange:a=>o({...n,width:parseInt(a.target.value)}),className:"w-full"})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"text-xs text-slate-400",children:["Altura: ",n.height,"px"]}),(0,b.jsx)("input",{type:"range",min:"300",max:"1200",value:n.height,onChange:a=>o({...n,height:parseInt(a.target.value)}),className:"w-full"})]})]})]}),(0,b.jsxs)("div",{className:"glass-panel p-4 rounded-lg border border-sky-500/20",children:[(0,b.jsx)("h3",{className:"text-sm font-bold text-sky-300 mb-3",children:"ðŸŽ¨ Fundo"}),(0,b.jsx)(s,{label:"Cor de Fundo",color:j,onChange:k})]}),(0,b.jsxs)("div",{className:"glass-panel p-4 rounded-lg border border-sky-500/20",children:[(0,b.jsx)("h3",{className:"text-sm font-bold text-sky-300 mb-3",children:"âž• Adicionar Elemento"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,b.jsx)("button",{onClick:()=>q("text"),className:"px-2 py-2 bg-blue-600 text-white rounded text-xs hover:bg-blue-500 transition",children:"ðŸ“ Texto"}),(0,b.jsx)("button",{onClick:()=>q("shape"),className:"px-2 py-2 bg-blue-600 text-white rounded text-xs hover:bg-blue-500 transition",children:"â¬œ Forma"}),(0,b.jsx)("button",{onClick:()=>q("button"),className:"px-2 py-2 bg-blue-600 text-white rounded text-xs hover:bg-blue-500 transition",children:"ðŸ”˜ BotÃ£o"}),(0,b.jsx)("button",{onClick:()=>q("image"),className:"px-2 py-2 bg-blue-600 text-white rounded text-xs hover:bg-blue-500 transition",children:"ðŸ–¼ï¸ Imagem"})]})]}),(0,b.jsxs)("div",{className:"glass-panel p-4 rounded-lg border border-sky-500/20",children:[(0,b.jsxs)("h3",{className:"text-sm font-bold text-sky-300 mb-3",children:["ðŸ“š Camadas (",f.length,")"]}),(0,b.jsx)("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:f.map(a=>(0,b.jsx)("div",{onClick:()=>i(a.id),className:`p-2 rounded cursor-pointer border transition-all ${h===a.id?"bg-sky-600/30 border-sky-500":"bg-white/5 border-sky-500/20 hover:border-sky-500/50"}`,children:(0,b.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-xs font-semibold text-white truncate",children:a.label}),(0,b.jsx)("p",{className:"text-[10px] text-slate-400",children:a.type})]}),(0,b.jsx)("button",{onClick:b=>{b.stopPropagation(),r(a.id,{visible:!a.visible})},className:"p-1 hover:bg-white/10 rounded",children:a.visible?(0,b.jsx)(D.Eye,{className:"h-4 w-4"}):(0,b.jsx)(E,{className:"h-4 w-4"})}),(0,b.jsx)("button",{onClick:b=>{var c;let d;b.stopPropagation(),c=a.id,(d=f.find(a=>a.id===c))&&g([...f,{...d,id:Math.random().toString(36).substr(2,9),x:d.x+20,y:d.y+20,label:`${d.label} (c\xf3pia)`}])},className:"p-1 hover:bg-white/10 rounded",children:(0,b.jsx)(F,{className:"h-4 w-4"})}),(0,b.jsx)("button",{onClick:b=>{var c;b.stopPropagation(),c=a.id,g(f.filter(a=>a.id!==c)),h===c&&i(null)},className:"p-1 hover:bg-red-600/30 rounded text-red-400",children:(0,b.jsx)(A.Trash2,{className:"h-4 w-4"})})]})},a.id))})]})]}),(0,b.jsxs)("div",{className:"flex-1 flex flex-col gap-6",children:[(0,b.jsx)("div",{className:"flex-1 glass-panel rounded-lg border border-sky-500/20 p-6 overflow-auto",children:(0,b.jsx)("div",{ref:e,className:"relative mx-auto",style:{width:n.width,height:n.height,backgroundColor:G(j),borderRadius:"8px",boxShadow:"0 0 30px rgba(0,166,225,0.2)"},children:f.map(a=>a.visible&&(0,b.jsxs)("div",{onClick:()=>i(a.id),className:`absolute cursor-pointer transition-all ${h===a.id?"ring-2 ring-sky-400 ring-offset-2":"hover:ring-2 hover:ring-sky-300 hover:ring-offset-1"}`,style:{left:a.x,top:a.y,width:a.width,height:a.height,transform:`rotate(${a.rotation}deg)`,opacity:a.opacity,zIndex:a.zIndex,backgroundColor:G(a.backgroundColor||{r:255,g:255,b:255}),color:G(a.fontColor||{r:0,g:0,b:0}),fontSize:a.fontSize,fontFamily:a.fontFamily,fontWeight:a.fontWeight,textAlign:a.textAlign,border:a.borderWidth?`${a.borderWidth}px solid ${G(a.borderColor||{r:0,g:0,b:0})}`:"none",borderRadius:a.borderRadius,display:"flex",alignItems:"center",justifyContent:"center",padding:"8px",overflow:"hidden"},children:["text"===a.type&&(0,b.jsx)("span",{className:"truncate",children:a.text}),"image"===a.type&&a.imageUrl&&(0,b.jsx)("img",{src:a.imageUrl,alt:"layer",className:"w-full h-full object-cover"})]},a.id))})}),p&&(0,b.jsxs)("div",{className:"glass-panel rounded-lg border border-sky-500/20 p-6 space-y-6",children:[(0,b.jsx)("div",{children:(0,b.jsx)("h3",{className:"text-lg font-bold text-sky-300 mb-4",children:"âš™ï¸ Propriedades"})}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs font-semibold text-slate-300",children:"X"}),(0,b.jsx)("input",{type:"number",value:p.x,onChange:a=>r(p.id,{x:parseInt(a.target.value)}),className:"w-full px-2 py-1 bg-white/5 border border-sky-500/20 rounded text-white text-sm"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs font-semibold text-slate-300",children:"Y"}),(0,b.jsx)("input",{type:"number",value:p.y,onChange:a=>r(p.id,{y:parseInt(a.target.value)}),className:"w-full px-2 py-1 bg-white/5 border border-sky-500/20 rounded text-white text-sm"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs font-semibold text-slate-300",children:"Largura"}),(0,b.jsx)("input",{type:"number",value:p.width,onChange:a=>r(p.id,{width:parseInt(a.target.value)}),className:"w-full px-2 py-1 bg-white/5 border border-sky-500/20 rounded text-white text-sm"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs font-semibold text-slate-300",children:"Altura"}),(0,b.jsx)("input",{type:"number",value:p.height,onChange:a=>r(p.id,{height:parseInt(a.target.value)}),className:"w-full px-2 py-1 bg-white/5 border border-sky-500/20 rounded text-white text-sm"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"text-xs font-semibold text-slate-300",children:["RotaÃ§Ã£o: ",p.rotation,"Â°"]}),(0,b.jsx)("input",{type:"range",min:"0",max:"360",value:p.rotation,onChange:a=>r(p.id,{rotation:parseInt(a.target.value)}),className:"w-full"})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"text-xs font-semibold text-slate-300",children:["Opacidade: ",Math.round(100*p.opacity),"%"]}),(0,b.jsx)("input",{type:"range",min:"0",max:"1",step:"0.01",value:p.opacity,onChange:a=>r(p.id,{opacity:parseFloat(a.target.value)}),className:"w-full"})]})]}),"text"===p.type&&(0,b.jsxs)("div",{className:"space-y-3 pt-4 border-t border-sky-500/20",children:[(0,b.jsx)("h4",{className:"font-semibold text-sky-300",children:"ðŸ“ Texto"}),(0,b.jsx)("textarea",{value:p.text||"",onChange:a=>r(p.id,{text:a.target.value}),className:"w-full px-3 py-2 bg-white/5 border border-sky-500/20 rounded text-white text-sm",rows:3}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs text-slate-400",children:"Tamanho"}),(0,b.jsx)("input",{type:"number",value:p.fontSize,onChange:a=>r(p.id,{fontSize:parseInt(a.target.value)}),className:"w-full px-2 py-1 bg-white/5 border border-sky-500/20 rounded text-white text-sm"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs text-slate-400",children:"Peso"}),(0,b.jsxs)("select",{value:p.fontWeight,onChange:a=>r(p.id,{fontWeight:a.target.value}),className:"w-full px-2 py-1 bg-white/5 border border-sky-500/20 rounded text-white text-sm",children:[(0,b.jsx)("option",{children:"normal"}),(0,b.jsx)("option",{children:"600"}),(0,b.jsx)("option",{children:"bold"})]})]})]}),(0,b.jsx)(s,{label:"Cor do Texto",color:p.fontColor||{r:0,g:0,b:0},onChange:a=>r(p.id,{fontColor:a})})]}),(0,b.jsxs)("div",{className:"space-y-3 pt-4 border-t border-sky-500/20",children:[(0,b.jsx)("h4",{className:"font-semibold text-sky-300",children:"ðŸŽ¨ Estilo"}),(0,b.jsx)(s,{label:"Cor de Fundo",color:p.backgroundColor||{r:255,g:255,b:255},onChange:a=>r(p.id,{backgroundColor:a})}),(0,b.jsx)(s,{label:"Cor da Borda",color:p.borderColor||{r:0,g:0,b:0},onChange:a=>r(p.id,{borderColor:a})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs text-slate-400",children:"Largura da Borda"}),(0,b.jsx)("input",{type:"number",value:p.borderWidth,onChange:a=>r(p.id,{borderWidth:parseInt(a.target.value)}),className:"w-full px-2 py-1 bg-white/5 border border-sky-500/20 rounded text-white text-sm"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs text-slate-400",children:"Canto Arredondado"}),(0,b.jsx)("input",{type:"number",value:p.borderRadius,onChange:a=>r(p.id,{borderRadius:parseInt(a.target.value)}),className:"w-full px-2 py-1 bg-white/5 border border-sky-500/20 rounded text-white text-sm"})]})]})]})]})]})}function I(){let[a,g]=(0,c.useState)("dashboard"),[D,E]=(0,c.useState)(!0),[F,G]=(0,c.useState)([]),[I,J]=(0,c.useState)(!0),[K,L]=(0,c.useState)(""),[M,N]=(0,c.useState)([]),[O,P]=(0,c.useState)(!1),[Q,R]=(0,c.useState)({}),[S,T]=(0,c.useState)([]),[U,V]=(0,c.useState)(!1),[W,X]=(0,c.useState)(!1),[Y,Z]=(0,c.useState)(null),[$,_]=(0,c.useState)({title:"",description:"",price:0,category:"insurance",requiredDocuments:[],requiredFiles:[],image:"",imageFile:null}),[aa,ab]=(0,c.useState)(""),[ac,ad]=(0,c.useState)(""),[ae,af]=(0,c.useState)(null),[ag,ah]=(0,c.useState)(null),[ai,aj]=(0,c.useState)({}),[ak,al]=(0,c.useState)(null),[am,an]=(0,c.useState)(null),[ao,ap]=(0,c.useState)(null),[aq,ar]=(0,c.useState)([]),[as,at]=(0,c.useState)(null),[au,av]=(0,c.useState)(!1),{user:aw}=(0,B.useAuth)(),ax=(0,C.useRouter)();(0,c.useEffect)(()=>{aw?"admin"!==aw.role&&ax.push("/dashboard/client"):ax.push("/login")},[aw,ax]),(0,c.useEffect)(()=>{let a=(0,e.query)((0,e.collection)(d.db,"orders"),(0,e.orderBy)("date","desc")),b=(0,e.onSnapshot)(a,a=>{G(a.docs.map(a=>({id:a.id,...a.data()}))),J(!1)});return()=>b()},[]),(0,c.useEffect)(()=>{(async()=>{P(!0);try{let a=(0,e.query)((0,e.collection)(d.db,"users")),b=(0,e.onSnapshot)(a,a=>{let b=a.docs.map(a=>({id:a.id,name:a.data().name,email:a.data().email,role:a.data().role}));N(b),P(!1)});return()=>b()}catch(a){console.error("Erro ao carregar usuÃ¡rios:",a),P(!1)}})()},[]),(0,c.useEffect)(()=>{(async()=>{V(!0);try{let a=(0,e.query)((0,e.collection)(d.db,"products")),b=(0,e.onSnapshot)(a,a=>{let b=a.docs.map(a=>({id:a.id,...a.data()}));T(b),V(!1)});return()=>b()}catch(a){console.error("Erro ao carregar produtos:",a),V(!1)}})()},[]),(0,c.useEffect)(()=>{(async()=>{av(!0);try{let a=(0,e.query)((0,e.collection)(d.db,"layoutEdit")),b=(0,e.onSnapshot)(a,a=>{let b=a.docs.map(a=>({id:a.id,...a.data()}));ar(b),b.length>0&&!as&&at(b[0]),av(!1)});return()=>b()}catch(a){console.error("Erro ao carregar layouts:",a),av(!1)}})()},[]);let ay=(0,c.useMemo)(()=>{let a=F.length,b=F.filter(a=>"pending_payment"===a.status||"pending_docs"===a.status).length,c=F.filter(a=>"completed"===a.status).length,d=F.filter(a=>"completed"===a.status).reduce((a,b)=>a+b.total,0),e=F.reduce((a,b)=>a+b.total,0),f=F.length>0?e/F.length:0;return{total:a,pending:b,completed:c,revenue:d,totalRevenue:e,avgTicket:f}},[F]),az=(0,c.useMemo)(()=>F.filter(a=>"pending_payment"===a.status||"pending_docs"===a.status),[F]),aA=(0,c.useMemo)(()=>F.filter(a=>"completed"===a.status),[F]),aB=(0,c.useMemo)(()=>{let b="completed"===a?aA:"orders"===a?az:[];if(K){let a=K.toLowerCase();b=b.filter(b=>b.userName?.toLowerCase().includes(a)||b.id.toLowerCase().includes(a)||b.items.some(b=>b.title.toLowerCase().includes(a)))}return b},[a,K,aA,az]),aC=async(a,b)=>{try{let c=(0,e.doc)(d.db,"orders",a);await (0,e.updateDoc)(c,{status:b})}catch(a){console.error("Erro ao atualizar status:",a)}},aD=async()=>{ax.push("/login")},aE=async(a,b)=>{if(confirm(`Confirma ${b?"conceder":"remover"} acesso de admin?`))try{R(b=>({...b,[a]:!0})),await (0,e.setDoc)((0,e.doc)(d.db,"users",a),{role:b?"admin":"client"},{merge:!0}),alert("Role atualizado com sucesso")}catch(a){console.error(a),alert("Falha ao atualizar role")}finally{R(b=>({...b,[a]:!1}))}},aF=async(a,b)=>{if(ae&&ag)try{aj(b=>({...b,[a]:!0}));let c=a.replace(/[^a-z0-9]/gi,"_").toLowerCase(),g=`users/${ae.userId}/orders/${ae.id}/${ag.cartId}/${c}`,h=(0,f.ref)(d.storage,g);await (0,f.uploadBytes)(h,b);let i=await (0,f.getDownloadURL)(h),j=(0,e.doc)(d.db,"orders",ae.id),k=ae.items.map(b=>b.cartId===ag.cartId?{...b,uploadedDocs:{...b.uploadedDocs,[a]:i}}:b);await (0,e.updateDoc)(j,{items:k}),alert("Documento enviado com sucesso!"),ah({...ag,uploadedDocs:{...ag.uploadedDocs,[a]:i}})}catch(a){console.error("Erro ao fazer upload:",a),alert("Erro ao enviar documento")}finally{aj(b=>({...b,[a]:!1}))}},aG=a=>{switch(a){case"pending_docs":return"bg-yellow-600/30 text-yellow-300 border-yellow-500/50";case"pending_payment":return"bg-orange-600/30 text-orange-300 border-orange-500/50";case"processing":return"bg-blue-600/30 text-blue-300 border-blue-500/50";case"paid":return"bg-cyan-600/30 text-cyan-300 border-cyan-500/50";case"completed":return"bg-green-600/30 text-green-300 border-green-500/50";case"rejected":return"bg-red-600/30 text-red-300 border-red-500/50";default:return"bg-slate-600/30 text-slate-300 border-slate-500/50"}},aH=async()=>{if(ak&&am){if(!am.name||!am.email)return void alert("Nome e email sÃ£o obrigatÃ³rios");try{await (0,e.setDoc)((0,e.doc)(d.db,"users",ak.id),am,{merge:!0}),alert("UsuÃ¡rio atualizado com sucesso!"),an(null),N(M.map(a=>a.id===ak.id?{...a,...am}:a)),al({...ak,...am})}catch(a){console.error("Erro ao atualizar usuÃ¡rio:",a),alert("Erro ao atualizar usuÃ¡rio")}}},aI=async()=>{if(ak&&confirm(`Tem certeza que deseja deletar o usu\xe1rio ${ak.name}? Esta a\xe7\xe3o \xe9 irrevers\xedvel.`))try{ap(ak.id),await (0,e.deleteDoc)((0,e.doc)(d.db,"users",ak.id)),alert("UsuÃ¡rio deletado com sucesso!"),N(M.filter(a=>a.id!==ak.id)),al(null),an(null)}catch(a){console.error("Erro ao deletar usuÃ¡rio:",a),alert("Erro ao deletar usuÃ¡rio")}finally{ap(null)}},aJ=async a=>{try{if("new"===a.id){let b={...a,id:void 0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:aw?.id||"unknown"},c=await (0,e.addDoc)((0,e.collection)(d.db,"layoutEdit"),b);alert("Layout criado com sucesso!"),at({...b,id:c.id})}else await (0,e.setDoc)((0,e.doc)(d.db,"layoutEdit",a.id),{...a,updatedAt:new Date().toISOString()}),alert("Layout salvo com sucesso!"),at(a)}catch(a){console.error("Erro ao salvar layout:",a),alert("Erro ao salvar layout")}},aK=async a=>{if(confirm("Tem certeza que deseja deletar este layout?"))try{await (0,e.deleteDoc)((0,e.doc)(d.db,"layoutEdit",a)),alert("Layout deletado com sucesso!"),ar(aq.filter(b=>b.id!==a)),as?.id===a&&at(aq.find(b=>b.id!==a)||null)}catch(a){console.error("Erro ao deletar layout:",a),alert("Erro ao deletar layout")}},aL=async()=>{if(!$.title||!$.description||$.price<=0||0===$.requiredDocuments.length)return void alert("Preencha todos os campos obrigatÃ³rios");try{let a=$.image;if($.imageFile){let b=(0,f.ref)(d.storage,`products/${$.imageFile.name}-${Date.now()}`);await (0,f.uploadBytes)(b,$.imageFile),a=await (0,f.getDownloadURL)(b)}let b={title:$.title,description:$.description,price:$.price,category:$.category,requiredDocuments:$.requiredDocuments,requiredFiles:$.requiredFiles,image:a,updatedAt:new Date().toISOString()};Y?(await (0,e.updateDoc)((0,e.doc)(d.db,"products",Y.id),b),alert("Produto atualizado com sucesso")):(await (0,e.addDoc)((0,e.collection)(d.db,"products"),{...b,createdAt:new Date().toISOString()}),alert("Produto criado com sucesso")),aN(),X(!1)}catch(a){console.error("Erro ao salvar produto:",a),alert("Erro ao salvar produto")}},aM=async(a,b)=>{if(confirm("Tem certeza que deseja deletar este produto?"))try{if(b){let a=(0,f.ref)(d.storage,b);try{await (0,f.deleteObject)(a)}catch(a){console.warn("Erro ao deletar imagem:",a)}}await (0,e.deleteDoc)((0,e.doc)(d.db,"products",a)),alert("Produto deletado com sucesso")}catch(a){console.error("Erro ao deletar produto:",a),alert("Erro ao deletar produto")}},aN=()=>{_({title:"",description:"",price:0,category:"insurance",requiredDocuments:[],requiredFiles:[],image:"",imageFile:null}),ab(""),ad(""),Z(null)},aO=({icon:a,label:c,value:d,trend:e})=>(0,b.jsx)("div",{className:"glass-panel p-6 rounded-xl border border-sky-500/20 hover:border-sky-500/40 transition-all",children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"text-sm text-slate-400 font-medium mb-1",children:c}),(0,b.jsx)("p",{className:"text-3xl font-bold text-white",children:d}),e&&(0,b.jsxs)("p",{className:`text-xs mt-2 flex items-center gap-1 ${e>0?"text-green-400":"text-red-400"}`,children:[e>0?(0,b.jsx)(w,{className:"h-3 w-3"}):(0,b.jsx)(x,{className:"h-3 w-3"}),Math.abs(e),"%"]})]}),(0,b.jsx)("div",{className:"p-3 bg-sky-600/20 rounded-lg border border-sky-500/30",children:(0,b.jsx)(a,{className:"h-6 w-6 text-sky-400"})})]})});return aw&&"admin"===aw.role?I?(0,b.jsx)("div",{className:"flex justify-center items-center h-screen bg-[#020c1b]",children:(0,b.jsx)(r.Loader2,{className:"h-10 w-10 text-sky-400 animate-spin"})}):(0,b.jsxs)("div",{className:"flex h-screen bg-[#020c1b] overflow-hidden",children:[(0,b.jsxs)("div",{className:`${D?"w-64":"w-20"} bg-white/5 backdrop-blur border-r border-sky-500/20 transition-all duration-300 flex flex-col`,children:[(0,b.jsx)("div",{className:"p-4 border-b border-sky-500/20",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[D&&(0,b.jsx)("h1",{className:"text-xl font-bold text-sky-300",children:"ðŸŽ¯ Admin"}),(0,b.jsx)("button",{onClick:()=>E(!D),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:D?(0,b.jsx)(n.X,{className:"h-5 w-5"}):(0,b.jsx)(m.Menu,{className:"h-5 w-5"})})]})}),(0,b.jsx)("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:[{id:"dashboard",label:"Dashboard",icon:h},{id:"orders",label:"Pedidos Pendentes",icon:j.ShoppingCart},{id:"completed",label:"Vendas Finalizadas",icon:o.CheckCircle},{id:"products",label:"Produtos",icon:i.Package},{id:"layout",label:"Layout Editor",icon:z},{id:"stats",label:"EstatÃ­sticas",icon:k}].map(({id:c,label:d,icon:e})=>(0,b.jsxs)("button",{onClick:()=>g(c),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${a===c?"bg-sky-600/30 text-sky-300 border border-sky-500/50":"text-slate-400 hover:text-slate-300 hover:bg-white/5"}`,children:[(0,b.jsx)(e,{className:"h-5 w-5 flex-shrink-0"}),D&&(0,b.jsx)("span",{className:"text-sm font-medium",children:d})]},c))}),(0,b.jsxs)("div",{className:"p-4 border-t border-sky-500/20 space-y-2",children:[D&&(0,b.jsxs)("div",{className:"text-xs text-slate-400 truncate",children:[(0,b.jsx)("p",{className:"font-semibold text-slate-300 truncate",children:aw?.name}),(0,b.jsx)("p",{className:"truncate",children:aw?.email})]}),(0,b.jsxs)("button",{onClick:aD,className:"w-full flex items-center gap-2 px-4 py-2 bg-red-600/20 text-red-300 rounded-lg hover:bg-red-600/30 transition-colors text-sm font-medium border border-red-500/30",children:[(0,b.jsx)(l.LogOut,{className:"h-4 w-4"}),D&&"Sair"]})]})]}),(0,b.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,b.jsxs)("div",{className:"bg-white/5 backdrop-blur border-b border-sky-500/20 p-6 flex items-center justify-between flex-wrap gap-4",children:[(0,b.jsxs)("h2",{className:"text-2xl font-bold text-white capitalize",children:["dashboard"===a&&"ðŸ“Š Dashboard","orders"===a&&"ðŸ“¦ Pedidos Pendentes","completed"===a&&"âœ… Vendas Finalizadas","products"===a&&"ðŸ›ï¸ Produtos","layout"===a&&"ðŸŽ¨ Layout Editor","stats"===a&&"ðŸ“ˆ EstatÃ­sticas"]}),(0,b.jsxs)("div",{className:"relative hidden md:block",children:[(0,b.jsx)(s,{className:"absolute left-3 top-2.5 h-4 w-4 text-slate-400"}),(0,b.jsx)("input",{type:"text",placeholder:"Buscar...",value:K,onChange:a=>L(a.target.value),className:"pl-10 pr-4 py-2 bg-white/10 border border-sky-500/30 rounded-lg text-sm text-white placeholder:text-slate-500 focus:outline-none focus:border-sky-400"})]})]}),(0,b.jsx)("div",{className:"flex-1 overflow-auto p-6",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto space-y-6",children:["dashboard"===a&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[(0,b.jsx)(aO,{icon:j.ShoppingCart,label:"Total Pedidos",value:ay.total}),(0,b.jsx)(aO,{icon:p.Clock,label:"Pendentes",value:ay.pending}),(0,b.jsx)(aO,{icon:o.CheckCircle,label:"ConcluÃ­dos",value:ay.completed}),(0,b.jsx)(aO,{icon:v.DollarSign,label:"Receita Finalizada",value:`R$ ${ay.revenue.toFixed(2)}`}),(0,b.jsx)(aO,{icon:k,label:"Receita Total",value:`R$ ${ay.totalRevenue.toFixed(2)}`})]}),(0,b.jsxs)("div",{className:"glass-panel rounded-xl border border-sky-500/20 p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-sky-300 mb-4",children:"ðŸ“‹ Pedidos Recentes"}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-sm",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-sky-500/20",children:[(0,b.jsx)("th",{className:"text-left py-3 px-4 text-slate-400 font-semibold",children:"Cliente"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 text-slate-400 font-semibold",children:"Pedido ID"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 text-slate-400 font-semibold",children:"Valor"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 text-slate-400 font-semibold",children:"Status"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 text-slate-400 font-semibold",children:"Data"})]})}),(0,b.jsx)("tbody",{children:F.slice(0,10).map(a=>(0,b.jsxs)("tr",{className:"border-b border-sky-500/10 hover:bg-white/5 transition-colors",children:[(0,b.jsx)("td",{className:"py-3 px-4 text-slate-300",children:a.userName||"AnÃ´nimo"}),(0,b.jsx)("td",{className:"py-3 px-4 text-slate-400 font-mono text-xs",children:a.id.slice(0,8)}),(0,b.jsxs)("td",{className:"py-3 px-4 text-sky-300 font-semibold",children:["R$ ",a.total.toFixed(2)]}),(0,b.jsx)("td",{className:"py-3 px-4",children:(0,b.jsx)("span",{className:`text-xs px-2 py-1 rounded-full border ${aG(a.status)}`,children:a.status.replace("_"," ")})}),(0,b.jsx)("td",{className:"py-3 px-4 text-slate-400 text-xs",children:new Date(a.date).toLocaleDateString("pt-BR")})]},a.id))})]})})]}),(0,b.jsxs)("div",{className:"glass-panel p-6 rounded-2xl border border-sky-500/20",children:[(0,b.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,b.jsxs)("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[(0,b.jsx)(y,{className:"h-5 w-5"}),"Gerenciar UsuÃ¡rios (",M.length,")"]})}),O?(0,b.jsx)("div",{className:"text-center text-slate-400 py-8",children:"Carregando usuÃ¡rios..."}):0===M.length?(0,b.jsx)("div",{className:"text-sm text-slate-400 py-8",children:"Nenhum usuÃ¡rio encontrado"}):(0,b.jsx)("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:M.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg border border-sky-500/10 hover:border-sky-500/30 transition-colors",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-full bg-sky-600/30 flex items-center justify-center border border-sky-500/30",children:(0,b.jsx)(y,{className:"h-5 w-5 text-sky-300"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("div",{className:"font-semibold text-white truncate",children:a.name||"(sem nome)"}),(0,b.jsx)("div",{className:"text-xs text-slate-400 truncate",children:a.email})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[(0,b.jsx)("span",{className:`text-xs px-3 py-1 rounded-full font-medium ${"admin"===a.role?"bg-sky-600/30 text-sky-300 border border-sky-500/30":"bg-slate-600/30 text-slate-300 border border-slate-500/30"}`,children:"admin"===a.role?"ðŸ‘‘ Admin":"Cliente"}),(0,b.jsx)("button",{onClick:()=>{al(a),an(null)},className:"px-3 py-1 bg-cyan-600 text-white rounded-lg text-xs hover:bg-cyan-500 transition-colors font-medium whitespace-nowrap",children:"Detalhes"})]})]},a.id))})]})]}),"orders"===a&&(0,b.jsx)("div",{className:"space-y-4",children:0===aB.length?(0,b.jsxs)("div",{className:"glass-panel p-12 text-center rounded-xl border border-sky-500/20",children:[(0,b.jsx)(i.Package,{className:"h-12 w-12 mx-auto text-slate-500 mb-4"}),(0,b.jsx)("p",{className:"text-slate-400",children:"Nenhum pedido pendente"})]}):aB.map(a=>(0,b.jsxs)("div",{className:"glass-panel p-6 rounded-xl border border-sky-500/20 hover:border-sky-500/40 transition-all",children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-lg font-bold text-white",children:a.userName||"Cliente"}),(0,b.jsxs)("p",{className:"text-xs text-slate-400 font-mono",children:["ID: ",a.id]})]}),(0,b.jsx)("span",{className:`text-xs px-3 py-1 rounded-full border ${aG(a.status)}`,children:a.status.replace("_"," ")})]}),(0,b.jsx)("div",{className:"space-y-2 mb-4",children:a.items.map((c,d)=>(0,b.jsx)("button",{onClick:()=>{af(a),ah(c)},className:"w-full text-left text-sm text-slate-300 bg-white/5 hover:bg-sky-600/20 p-3 rounded border border-sky-500/20 hover:border-sky-500/50 transition-all",children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"font-semibold text-white",children:c.title}),(0,b.jsxs)("p",{className:"text-xs text-slate-400 mt-1",children:["R$ ",c.price.toFixed(2)]})]}),(0,b.jsx)("div",{className:"text-right",children:c.requiredDocuments&&c.requiredDocuments.length>0&&(0,b.jsxs)("p",{className:"text-xs text-sky-300",children:[Object.keys(c.uploadedDocs||{}).length,"/",c.requiredDocuments.length," docs"]})})]})},d))}),(0,b.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t border-sky-500/20",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-slate-400",children:"Total"}),(0,b.jsxs)("p",{className:"text-xl font-bold text-sky-300",children:["R$ ",a.total.toFixed(2)]})]}),(0,b.jsxs)("select",{value:a.status,onChange:b=>aC(a.id,b.target.value),className:"px-4 py-2 bg-sky-600/30 border border-sky-500/50 rounded-lg text-sky-300 text-sm font-medium focus:outline-none",children:[(0,b.jsx)("option",{value:"pending_docs",children:"Analisando Docs"}),(0,b.jsx)("option",{value:"pending_payment",children:"Aguardando Pagamento"}),(0,b.jsx)("option",{value:"processing",children:"Em Processamento"}),(0,b.jsx)("option",{value:"paid",children:"Pago"}),(0,b.jsx)("option",{value:"completed",children:"ConcluÃ­do"}),(0,b.jsx)("option",{value:"rejected",children:"Rejeitado"})]})]})]},a.id))}),"completed"===a&&(0,b.jsx)("div",{className:"space-y-4",children:0===aB.length?(0,b.jsxs)("div",{className:"glass-panel p-12 text-center rounded-xl border border-sky-500/20",children:[(0,b.jsx)(o.CheckCircle,{className:"h-12 w-12 mx-auto text-slate-500 mb-4"}),(0,b.jsx)("p",{className:"text-slate-400",children:"Nenhuma venda finalizada"})]}):aB.map(a=>(0,b.jsxs)("div",{className:"glass-panel p-6 rounded-xl border border-green-500/20 hover:border-green-500/40 transition-all",children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-lg font-bold text-white",children:a.userName||"Cliente"}),(0,b.jsxs)("p",{className:"text-xs text-slate-400 font-mono",children:["ID: ",a.id]}),(0,b.jsxs)("p",{className:"text-xs text-green-400 mt-1",children:["âœ… Finalizado em ",new Date(a.date).toLocaleDateString("pt-BR")]})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)("p",{className:"text-sm text-slate-400",children:"Receita"}),(0,b.jsxs)("p",{className:"text-2xl font-bold text-green-400",children:["R$ ",a.total.toFixed(2)]})]})]}),(0,b.jsx)("div",{className:"space-y-2 mb-4",children:a.items.map((a,c)=>(0,b.jsxs)("div",{className:"text-sm text-slate-300 bg-white/5 p-2 rounded",children:[a.title," - R$ ",a.price.toFixed(2)]},c))})]},a.id))}),"products"===a&&(0,b.jsx)("div",{className:"space-y-6",children:W?(0,b.jsxs)("div",{className:"glass-panel p-8 rounded-xl border border-sky-500/20",children:[(0,b.jsx)("h3",{className:"text-2xl font-bold text-white mb-6",children:Y?"Editar Produto":"Novo Produto"}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsx)("input",{type:"text",placeholder:"TÃ­tulo",value:$.title,onChange:a=>_({...$,title:a.target.value}),className:"px-4 py-2 bg-white/5 border border-sky-500/20 rounded-lg text-white placeholder:text-slate-500 focus:border-sky-500 focus:outline-none"}),(0,b.jsx)("input",{type:"number",placeholder:"PreÃ§o",value:$.price,onChange:a=>_({...$,price:parseFloat(a.target.value)}),className:"px-4 py-2 bg-white/5 border border-sky-500/20 rounded-lg text-white placeholder:text-slate-500 focus:border-sky-500 focus:outline-none"})]}),(0,b.jsx)("textarea",{placeholder:"DescriÃ§Ã£o",value:$.description,onChange:a=>_({...$,description:a.target.value}),className:"w-full px-4 py-2 bg-white/5 border border-sky-500/20 rounded-lg text-white placeholder:text-slate-500 focus:border-sky-500 focus:outline-none h-24 resize-none"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("select",{value:$.category,onChange:a=>_({...$,category:a.target.value}),className:"px-4 py-2 bg-white/5 border border-sky-500/20 rounded-lg text-white focus:border-sky-500 focus:outline-none",children:[(0,b.jsx)("option",{value:"insurance",children:"Seguro"}),(0,b.jsx)("option",{value:"license",children:"LicenÃ§a"}),(0,b.jsx)("option",{value:"bureaucracy",children:"DocumentaÃ§Ã£o"})]}),(0,b.jsx)("input",{type:"file",accept:"image/*",onChange:a=>_({...$,imageFile:a.target.files?.[0]||null}),className:"px-4 py-2 bg-white/5 border border-sky-500/20 rounded-lg text-white text-sm"})]}),(0,b.jsxs)("div",{className:"border-t border-sky-500/20 pt-4",children:[(0,b.jsx)("h4",{className:"text-white font-bold mb-3",children:"Documentos NecessÃ¡rios"}),(0,b.jsxs)("div",{className:"flex gap-2 mb-3",children:[(0,b.jsx)("input",{type:"text",placeholder:"Ex: RG, CPF, Comprovante de ResidÃªncia",value:aa,onChange:a=>ab(a.target.value),className:"flex-1 px-4 py-2 bg-white/5 border border-sky-500/20 rounded-lg text-white placeholder:text-slate-500 focus:border-sky-500 focus:outline-none"}),(0,b.jsx)("button",{onClick:()=>{aa.trim()&&(_({...$,requiredDocuments:[...$.requiredDocuments,aa]}),ab(""))},className:"px-4 py-2 bg-sky-600 text-white rounded-lg hover:bg-sky-500 transition-colors",children:(0,b.jsx)(t.Plus,{className:"h-4 w-4"})})]}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:$.requiredDocuments.map((a,c)=>(0,b.jsxs)("span",{className:"bg-sky-600/30 text-sky-300 px-3 py-1 rounded-full text-sm flex items-center gap-2 border border-sky-500/30",children:[a,(0,b.jsx)("button",{onClick:()=>_({...$,requiredDocuments:$.requiredDocuments.filter((a,b)=>b!==c)}),className:"text-red-400 hover:text-red-300",children:"âœ•"})]},c))})]}),(0,b.jsxs)("div",{className:"border-t border-sky-500/20 pt-4",children:[(0,b.jsx)("h4",{className:"text-white font-bold mb-3",children:"Tipos de Arquivo Aceitos (opcional)"}),(0,b.jsxs)("div",{className:"flex gap-2 mb-3",children:[(0,b.jsx)("input",{type:"text",placeholder:"Ex: PDF, JPG, PNG",value:ac,onChange:a=>ad(a.target.value.toUpperCase()),className:"flex-1 px-4 py-2 bg-white/5 border border-sky-500/20 rounded-lg text-white placeholder:text-slate-500 focus:border-sky-500 focus:outline-none"}),(0,b.jsx)("button",{onClick:()=>{ac.trim()&&(_({...$,requiredFiles:[...$.requiredFiles,ac]}),ad(""))},className:"px-4 py-2 bg-sky-600 text-white rounded-lg hover:bg-sky-500 transition-colors",children:(0,b.jsx)(t.Plus,{className:"h-4 w-4"})})]}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:$.requiredFiles.map((a,c)=>(0,b.jsxs)("span",{className:"bg-cyan-600/30 text-cyan-300 px-3 py-1 rounded-full text-sm flex items-center gap-2 border border-cyan-500/30",children:[a,(0,b.jsx)("button",{onClick:()=>_({...$,requiredFiles:$.requiredFiles.filter((a,b)=>b!==c)}),className:"text-red-400 hover:text-red-300",children:"âœ•"})]},c))})]}),(0,b.jsxs)("div",{className:"flex gap-3 pt-4 border-t border-sky-500/20",children:[(0,b.jsx)("button",{onClick:aL,className:"flex-1 px-4 py-3 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg hover:from-green-500 hover:to-emerald-500 transition-all font-bold",children:Y?"Atualizar Produto":"Criar Produto"}),(0,b.jsx)("button",{onClick:()=>{aN(),X(!1)},className:"flex-1 px-4 py-3 bg-slate-600 text-white rounded-lg hover:bg-slate-500 transition-colors font-bold",children:"Cancelar"})]})]})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"flex justify-end",children:(0,b.jsxs)("button",{onClick:()=>{aN(),X(!0)},className:"px-6 py-2 bg-gradient-to-r from-sky-600 to-blue-600 text-white rounded-lg hover:from-sky-500 hover:to-blue-500 transition-all font-semibold flex items-center gap-2",children:[(0,b.jsx)(t.Plus,{className:"h-4 w-4"}),"Novo Produto"]})}),U?(0,b.jsx)("div",{className:"flex justify-center py-12",children:(0,b.jsx)(r.Loader2,{className:"h-8 w-8 text-sky-400 animate-spin"})}):0===S.length?(0,b.jsxs)("div",{className:"glass-panel p-12 text-center rounded-xl border border-sky-500/20",children:[(0,b.jsx)(i.Package,{className:"h-12 w-12 mx-auto text-slate-500 mb-4"}),(0,b.jsx)("p",{className:"text-slate-400",children:"Nenhum produto cadastrado"}),(0,b.jsx)("p",{className:"text-sm text-slate-500 mt-2",children:'Clique em "Novo Produto" para comeÃ§ar'})]}):(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:S.map(a=>(0,b.jsxs)("div",{className:"glass-panel p-6 rounded-xl border border-sky-500/20 hover:border-sky-500/40 transition-all",children:[a.image&&(0,b.jsx)("img",{src:a.image,alt:a.title,className:"w-full h-40 object-cover rounded-lg mb-4"}),(0,b.jsx)("h3",{className:"text-lg font-bold text-white mb-2",children:a.title}),(0,b.jsx)("p",{className:"text-sm text-slate-300 mb-3 line-clamp-2",children:a.description}),(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsxs)("span",{className:"text-2xl font-bold text-sky-300",children:["R$ ",a.price.toFixed(2)]}),(0,b.jsx)("span",{className:"text-xs px-2 py-1 rounded-full bg-sky-600/30 text-sky-300 border border-sky-500/30 capitalize",children:"insurance"===a.category?"Seguro":"license"===a.category?"LicenÃ§a":"DocumentaÃ§Ã£o"})]}),(0,b.jsxs)("div",{className:"mb-4 flex gap-2 flex-wrap",children:[a.requiredDocuments.slice(0,3).map((a,c)=>(0,b.jsx)("span",{className:"text-xs bg-white/10 text-slate-300 px-2 py-1 rounded border border-slate-500/30",children:a},c)),a.requiredDocuments.length>3&&(0,b.jsxs)("span",{className:"text-xs bg-white/10 text-slate-400 px-2 py-1 rounded",children:["+",a.requiredDocuments.length-3]})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("button",{onClick:()=>{Z(a),_({title:a.title,description:a.description,price:a.price,category:a.category,requiredDocuments:a.requiredDocuments,requiredFiles:a.requiredFiles||[],image:a.image,imageFile:null}),X(!0)},className:"flex-1 px-3 py-2 bg-sky-600 text-white rounded-lg text-sm hover:bg-sky-500 transition-colors",children:"Editar"}),(0,b.jsx)("button",{onClick:()=>aM(a.id,a.image),className:"flex-1 px-3 py-2 bg-red-600 text-white rounded-lg text-sm hover:bg-red-500 transition-colors",children:"Deletar"})]})]},a.id))})]})}),"layout"===a&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"glass-panel p-6 rounded-xl border border-sky-500/20",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-sky-300",children:"Meus Layouts"}),(0,b.jsxs)("button",{onClick:()=>{at({id:"new",name:"Novo Layout",description:"Layout criado",canvasWidth:1200,canvasHeight:600,backgroundColor:{r:2,g:12,b:27},layers:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:aw?.id||"unknown"})},className:"px-4 py-2 bg-sky-600 text-white rounded-lg text-sm hover:bg-sky-500 transition flex items-center gap-2",children:[(0,b.jsx)(t.Plus,{className:"h-4 w-4"}),"Novo Layout"]})]}),au?(0,b.jsx)("div",{className:"text-center text-slate-400 py-8",children:"Carregando layouts..."}):0===aq.length?(0,b.jsx)("div",{className:"text-sm text-slate-400 py-8",children:"Nenhum layout criado ainda"}):(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:aq.map(a=>(0,b.jsx)("div",{className:`p-4 rounded-lg border cursor-pointer transition-all ${as?.id===a.id?"bg-sky-600/30 border-sky-500":"bg-white/5 border-sky-500/20 hover:border-sky-500/50"}`,onClick:()=>at(a),children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h4",{className:"font-semibold text-white",children:a.name}),(0,b.jsx)("p",{className:"text-xs text-slate-400 mt-1",children:a.description}),(0,b.jsxs)("p",{className:"text-xs text-slate-500 mt-2",children:[a.layers.length," camadas"]})]}),(0,b.jsx)("button",{onClick:b=>{b.stopPropagation(),aK(a.id)},className:"p-2 hover:bg-red-600/30 rounded text-red-400",children:(0,b.jsx)(A.Trash2,{className:"h-4 w-4"})})]})},a.id))})]}),as&&(0,b.jsx)("div",{className:"h-[600px]",children:(0,b.jsx)(H,{initialLayout:as,onSave:aJ})})]}),"stats"===a&&(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"glass-panel p-6 rounded-xl border border-sky-500/20",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-sky-300 mb-4",children:"ðŸ“Š DistribuiÃ§Ã£o por Status"}),(0,b.jsx)("div",{className:"space-y-3",children:["pending_docs","pending_payment","processing","completed","rejected"].map(a=>{let c=F.filter(b=>b.status===a).length,d=F.length>0?c/F.length*100:0;return(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,b.jsx)("span",{className:"text-slate-300 capitalize",children:a.replace("_"," ")}),(0,b.jsx)("span",{className:"text-sky-300 font-semibold",children:c})]}),(0,b.jsx)("div",{className:"w-full bg-white/5 rounded-full h-2 overflow-hidden border border-sky-500/20",children:(0,b.jsx)("div",{className:"bg-gradient-to-r from-sky-600 to-blue-600 h-full",style:{width:`${d}%`}})})]},a)})})]}),(0,b.jsxs)("div",{className:"glass-panel p-6 rounded-xl border border-sky-500/20",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-sky-300 mb-4",children:"ðŸ’° Resumo Financeiro"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center p-3 bg-white/5 rounded-lg",children:[(0,b.jsx)("span",{className:"text-slate-300",children:"Receita Total"}),(0,b.jsxs)("span",{className:"text-xl font-bold text-sky-300",children:["R$ ",ay.totalRevenue.toFixed(2)]})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center p-3 bg-white/5 rounded-lg",children:[(0,b.jsx)("span",{className:"text-slate-300",children:"Receita Finalizada"}),(0,b.jsxs)("span",{className:"text-xl font-bold text-green-400",children:["R$ ",ay.revenue.toFixed(2)]})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center p-3 bg-white/5 rounded-lg",children:[(0,b.jsx)("span",{className:"text-slate-300",children:"Ticket MÃ©dio"}),(0,b.jsxs)("span",{className:"text-xl font-bold text-cyan-300",children:["R$ ",ay.avgTicket.toFixed(2)]})]})]})]})]})]})})]}),ae&&ag&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fade-in",children:(0,b.jsxs)("div",{className:"glass-panel rounded-2xl border border-sky-500/20 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)("div",{className:"sticky top-0 p-6 border-b border-sky-500/20 bg-[#020c1b] flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-2xl font-bold text-white",children:ag.title}),(0,b.jsxs)("p",{className:"text-sm text-slate-400 mt-1",children:["Pedido: ",ae.id]})]}),(0,b.jsx)("button",{onClick:()=>{af(null),ah(null)},className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:(0,b.jsx)(n.X,{className:"h-6 w-6 text-slate-400"})})]}),(0,b.jsxs)("div",{className:"p-6 space-y-6",children:[(0,b.jsxs)("div",{className:"glass-panel p-4 rounded-xl border border-sky-500/20",children:[(0,b.jsxs)("h4",{className:"text-sky-300 font-bold mb-3 flex items-center gap-2",children:[(0,b.jsx)(i.Package,{className:"h-4 w-4"}),"InformaÃ§Ãµes do ServiÃ§o"]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400",children:"Categoria"}),(0,b.jsx)("p",{className:"text-white font-semibold capitalize",children:"insurance"===ag.category?"Seguro":"license"===ag.category?"LicenÃ§a":"DocumentaÃ§Ã£o"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400",children:"PreÃ§o"}),(0,b.jsxs)("p",{className:"text-white font-semibold",children:["R$ ",ag.price.toFixed(2)]})]})]}),(0,b.jsx)("p",{className:"text-slate-300 text-sm mt-3",children:ag.description})]}),ag.requiredDocuments&&ag.requiredDocuments.length>0&&(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("h4",{className:"text-sky-300 font-bold flex items-center gap-2",children:[(0,b.jsx)(u.FileText,{className:"h-4 w-4"}),"Documentos NecessÃ¡rios (",Object.keys(ag.uploadedDocs||{}).length,"/",ag.requiredDocuments.length,")"]}),ag.requiredDocuments.map(a=>{let c=!!ag&&!!ag.uploadedDocs&&!!ag.uploadedDocs[a],d=ai[a];return(0,b.jsxs)("div",{className:`glass-panel p-4 rounded-xl border transition-all ${c?"border-green-500/30 bg-green-600/10":"border-yellow-500/30 bg-yellow-600/10"}`,children:[(0,b.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[c?(0,b.jsx)(o.CheckCircle,{className:"h-5 w-5 text-green-400"}):(0,b.jsx)(q.AlertCircle,{className:"h-5 w-5 text-yellow-400"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-white font-semibold",children:a}),c&&(0,b.jsx)("p",{className:"text-xs text-green-400",children:"âœ… Documento recebido"})]})]})}),!c&&(0,b.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,b.jsx)("input",{id:`file-${a}`,type:"file",accept:ag.requiredFiles?.join(",")||"*",disabled:d,onChange:b=>{let c=b.target.files?.[0];c&&aF(a,c)},className:"flex-1 text-sm text-slate-400 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-sky-600 file:text-white hover:file:bg-sky-500 disabled:opacity-50"}),d&&(0,b.jsx)(r.Loader2,{className:"h-5 w-5 text-sky-400 animate-spin"})]})]},a)})]}),(0,b.jsxs)("div",{className:"glass-panel p-4 rounded-xl border border-sky-500/20",children:[(0,b.jsx)("h4",{className:"text-sky-300 font-bold mb-3",children:"ðŸ‘¤ Cliente"}),(0,b.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,b.jsxs)("p",{children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Nome:"})," ",(0,b.jsx)("span",{className:"text-white",children:ae.userName||"N/A"})]}),(0,b.jsxs)("p",{children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Status do Pedido:"})," ",(0,b.jsx)("span",{className:`font-semibold ${aG(ae.status)}`,children:ae.status.replace("_"," ")})]}),(0,b.jsxs)("p",{children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Data:"})," ",(0,b.jsx)("span",{className:"text-white",children:new Date(ae.date).toLocaleDateString("pt-BR")})]})]})]}),(0,b.jsx)("div",{className:"flex gap-2",children:(0,b.jsx)("button",{onClick:()=>{af(null),ah(null)},className:"flex-1 px-4 py-3 bg-slate-600 text-white rounded-lg hover:bg-slate-500 transition-colors font-bold",children:"Fechar"})})]})]})}),ak&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fade-in",children:(0,b.jsxs)("div",{className:"glass-panel rounded-2xl border border-sky-500/20 max-w-md w-full max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)("div",{className:"sticky top-0 p-6 border-b border-sky-500/20 bg-[#020c1b] flex items-center justify-between",children:[(0,b.jsx)("h3",{className:"text-2xl font-bold text-white",children:"Detalhes do UsuÃ¡rio"}),(0,b.jsx)("button",{onClick:()=>{al(null),an(null)},className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:(0,b.jsx)(n.X,{className:"h-6 w-6 text-slate-400"})})]}),(0,b.jsx)("div",{className:"p-6 space-y-6",children:am?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-slate-400 text-sm font-medium block mb-2",children:"Nome"}),(0,b.jsx)("input",{type:"text",value:am.name||"",onChange:a=>an({...am,name:a.target.value}),className:"w-full px-4 py-2 bg-white/5 border border-sky-500/20 rounded-lg text-white placeholder:text-slate-500 focus:border-sky-500 focus:outline-none"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-slate-400 text-sm font-medium block mb-2",children:"Email"}),(0,b.jsx)("input",{type:"email",value:am.email||"",onChange:a=>an({...am,email:a.target.value}),className:"w-full px-4 py-2 bg-white/5 border border-sky-500/20 rounded-lg text-white placeholder:text-slate-500 focus:border-sky-500 focus:outline-none"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-slate-400 text-sm font-medium block mb-2",children:"FunÃ§Ã£o"}),(0,b.jsxs)("select",{value:am.role||"client",onChange:a=>an({...am,role:a.target.value}),className:"w-full px-4 py-2 bg-white/5 border border-sky-500/20 rounded-lg text-white focus:border-sky-500 focus:outline-none",children:[(0,b.jsx)("option",{value:"client",children:"Cliente"}),(0,b.jsx)("option",{value:"admin",children:"Admin"}),(0,b.jsx)("option",{value:"employee",children:"Colaborador"})]})]})]}),(0,b.jsxs)("div",{className:"flex gap-2 pt-4 border-t border-sky-500/20",children:[(0,b.jsx)("button",{onClick:aH,className:"flex-1 px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-500 transition-colors font-bold",children:"âœ“ Salvar"}),(0,b.jsx)("button",{onClick:()=>an(null),className:"flex-1 px-4 py-3 bg-slate-600 text-white rounded-lg hover:bg-slate-500 transition-colors font-bold",children:"âœ• Cancelar"})]})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"glass-panel p-4 rounded-xl border border-sky-500/20",children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:"Nome"}),(0,b.jsx)("p",{className:"text-white font-semibold text-lg",children:ak.name||"(sem nome)"})]}),(0,b.jsxs)("div",{className:"glass-panel p-4 rounded-xl border border-sky-500/20",children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:"Email"}),(0,b.jsx)("p",{className:"text-white font-semibold",children:ak.email})]}),(0,b.jsxs)("div",{className:"glass-panel p-4 rounded-xl border border-sky-500/20",children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:"ID do UsuÃ¡rio"}),(0,b.jsx)("p",{className:"text-slate-300 text-xs font-mono",children:ak.id})]}),(0,b.jsxs)("div",{className:"glass-panel p-4 rounded-xl border border-sky-500/20",children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm mb-2",children:"FunÃ§Ã£o"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:`text-xs px-3 py-1 rounded-full font-medium ${"admin"===ak.role?"bg-sky-600/30 text-sky-300 border border-sky-500/30":"bg-slate-600/30 text-slate-300 border border-slate-500/30"}`,children:"admin"===ak.role?"ðŸ‘‘ Admin":"employee"===ak.role?"ðŸ‘¨â€ðŸ’¼ Colaborador":"Cliente"}),(0,b.jsx)("button",{onClick:()=>aE(ak.id,"admin"!==ak.role),disabled:Q[ak.id],className:"px-3 py-1 bg-sky-600 text-white rounded-lg text-xs hover:bg-sky-500 disabled:opacity-50 transition-colors font-medium",children:Q[ak.id]?"...":"admin"===ak.role?"Remover Admin":"Tornar Admin"})]})]})]}),(0,b.jsxs)("div",{className:"flex gap-2 pt-4 border-t border-sky-500/20",children:[(0,b.jsx)("button",{onClick:()=>an({...ak}),className:"flex-1 px-4 py-3 bg-sky-600 text-white rounded-lg hover:bg-sky-500 transition-colors font-bold flex items-center justify-center gap-2",children:"âœŽ Editar"}),(0,b.jsx)("button",{onClick:aI,disabled:ao===ak.id,className:"flex-1 px-4 py-3 bg-red-600 text-white rounded-lg hover:bg-red-500 disabled:opacity-50 transition-colors font-bold flex items-center justify-center gap-2",children:ao===ak.id?"...":"ðŸ—‘ï¸ Deletar"})]})]})})]})})]}):null}a.s(["default",()=>I],26704)}];

//# sourceMappingURL=src_app_dashboard_admin_page_tsx_a8471592._.js.map