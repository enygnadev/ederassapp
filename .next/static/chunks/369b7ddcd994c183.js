(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31278,e=>{"use strict";let t=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],31278)},69638,e=>{"use strict";let t=(0,e.i(75254).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>t],69638)},3116,e=>{"use strict";let t=(0,e.i(75254).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["Clock",()=>t],3116)},18404,e=>{"use strict";var t=e.i(47167),a=e.i(43476),s=e.i(932),l=e.i(71645),o=e.i(18566),r=e.i(59141);e.i(36180);var n=e.i(98925);function i(e,t){let a=t.length.toString().padStart(2,"0");return`${e}${a}${t}`}let d=function({pixKey:e,amount:t,txid:a="***",merchantName:s="Loja",merchantCity:l="Cidade"}){let o=i("00","BR.GOV.BCB.PIX")+i("01",e),r="";r+=i("00","01"),r+=i("01","12"),r+=i("26",o),r+=i("52","0000"),r+=i("53","986"),null!=t&&(r+=i("54",t.toFixed(2))),r+=i("58","BR"),r+=i("59",s.substring(0,25)),r+=i("60",l.substring(0,15));let n=function(e){let t=65535,a=new TextEncoder().encode(e);for(let e=0;e<a.length;e++){t^=a[e]<<8;for(let e=0;e<8;e++)t=32768&t?(t<<1^4129)&65535:t<<1&65535}return t.toString(16).toUpperCase().padStart(4,"0")}((r+=i("62",i("05",a.substring(0,25))))+"6304");return r+i("63",n)};var c=e.i(31278),m=e.i(69638),x=e.i(3116);function p(){let e,i,p,b,y,g,f,j,N,v,k,C,w,P,_,S,I,R,E,X,$,B,T,A,L,U,z,F,K=(0,s.c)(78),V=(0,o.useParams)().orderId,M=(0,o.useRouter)(),[O,q]=(0,l.useState)(null),[W,Y]=(0,l.useState)(!0);if(K[0]!==V?(e=()=>{if(!V)return;let e=(0,n.doc)(r.db,"orders",V),t=(0,n.onSnapshot)(e,e=>{e.exists()?q({id:e.id,...e.data()}):q(null),Y(!1)});return()=>t()},i=[V],K[0]=V,K[1]=e,K[2]=i):(e=K[1],i=K[2]),(0,l.useEffect)(e,i),W){let e;return K[3]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsx)("div",{className:"flex justify-center items-center h-[60vh]",children:(0,a.jsx)(c.Loader2,{className:"h-10 w-10 text-sky-400 animate-spin"})}),K[3]=e):e=K[3],e}if(!O){let e;return K[4]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsx)("div",{className:"max-w-4xl mx-auto px-4 py-12 text-center",children:(0,a.jsx)("h1",{className:"text-2xl font-bold text-white mb-4",children:"Pedido nÃ£o encontrado"})}),K[4]=e):e=K[4],e}K[5]!==O.id||K[6]!==O.payment?.pixPayload||K[7]!==O.total?(p=O.payment?.pixPayload||d({pixKey:t.default.env.NEXT_PUBLIC_PIX_KEY||"12345678901234567890",amount:O.total,txid:O.id.substring(0,25),merchantName:"Eder Martins",merchantCity:"Santa Catarina"}),K[5]=O.id,K[6]=O.payment?.pixPayload,K[7]=O.total,K[8]=p):p=K[8];let G=p,Q=`https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=${encodeURIComponent(G)}`;K[9]===Symbol.for("react.memo_cache_sentinel")?(b=(0,a.jsx)("h1",{className:"text-3xl font-bold text-white",children:"ðŸ’³ Pagamento do Pedido"}),K[9]=b):b=K[9],K[10]!==O.id?(y=O.id.slice(0,8),K[10]=O.id,K[11]=y):y=K[11],K[12]!==O.total?(g=O.total.toFixed(2),K[12]=O.total,K[13]=g):g=K[13],K[14]!==y||K[15]!==g?(f=(0,a.jsxs)("div",{children:[b,(0,a.jsxs)("p",{className:"text-sm text-slate-400 mt-2",children:["Pedido #",y," â€” R$ ",g]})]}),K[14]=y,K[15]=g,K[16]=f):f=K[16],K[17]!==M?(j=(0,a.jsx)("button",{onClick:()=>M.push("/dashboard/client"),className:"text-sky-400 hover:text-sky-300",children:"Voltar"}),K[17]=M,K[18]=j):j=K[18],K[19]!==f||K[20]!==j?(N=(0,a.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[f,j]}),K[19]=f,K[20]=j,K[21]=N):N=K[21],K[22]!==O.payment?.status?(v=O.payment?.status==="paid"?(0,a.jsx)(m.CheckCircle,{className:"h-6 w-6 text-green-400"}):(0,a.jsx)(x.Clock,{className:"h-6 w-6 text-amber-400"}),K[22]=O.payment?.status,K[23]=v):v=K[23];let D=O.payment?.status==="paid"?"âœ… Pagamento Confirmado!":"â³ Aguardando Pagamento";K[24]!==D?(k=(0,a.jsx)("h2",{className:"text-2xl font-bold text-white",children:D}),K[24]=D,K[25]=k):k=K[25],K[26]!==k||K[27]!==v?(C=(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[v,k]}),K[26]=k,K[27]=v,K[28]=C):C=K[28];let H=O.payment?.status==="paid"?"Seu pagamento foi confirmado. VocÃª receberÃ¡ em breve um email com os prÃ³ximos passos.":"Escaneie o QR Code abaixo ou copie a chave PIX para efetuar o pagamento.";return K[29]!==H?(w=(0,a.jsx)("p",{className:"text-slate-400 mb-4",children:H}),K[29]=H,K[30]=w):w=K[30],K[31]!==C||K[32]!==w?(P=(0,a.jsxs)("div",{className:"glass-panel rounded-2xl p-6 border-sky-500/30",children:[C,w]}),K[31]=C,K[32]=w,K[33]=P):P=K[33],K[34]===Symbol.for("react.memo_cache_sentinel")?(_=(0,a.jsx)("h3",{className:"font-bold text-white mb-4 text-lg",children:"ðŸ“¦ Itens"}),K[34]=_):_=K[34],K[35]!==O.items?(S=O.items.map(u),K[35]=O.items,K[36]=S):S=K[36],K[37]!==S?(I=(0,a.jsx)("div",{className:"space-y-2",children:S}),K[37]=S,K[38]=I):I=K[38],K[39]===Symbol.for("react.memo_cache_sentinel")?(R=(0,a.jsx)("span",{className:"font-bold text-white text-lg",children:"Total:"}),K[39]=R):R=K[39],K[40]!==O.total?(E=O.total.toFixed(2),K[40]=O.total,K[41]=E):E=K[41],K[42]!==E?(X=(0,a.jsxs)("div",{className:"mt-4 pt-4 border-t border-slate-700 flex justify-between items-center",children:[R,(0,a.jsxs)("span",{className:"font-bold text-sky-300 text-2xl",children:["R$ ",E]})]}),K[42]=E,K[43]=X):X=K[43],K[44]!==I||K[45]!==X?($=(0,a.jsxs)("div",{className:"glass-panel rounded-2xl p-6 border-sky-500/30",children:[_,I,X]}),K[44]=I,K[45]=X,K[46]=$):$=K[46],K[47]!==O.payment?.method||K[48]!==O.payment?.status||K[49]!==G||K[50]!==Q?(B=O.payment?.method==="pix"&&O.payment?.status!=="paid"&&(0,a.jsxs)("div",{className:"glass-panel rounded-2xl p-8 border-sky-500/30",children:[(0,a.jsx)("h3",{className:"font-bold text-white mb-6 text-lg",children:"ðŸ“² Pagamento via PIX"}),(0,a.jsxs)("div",{className:"flex flex-col items-center mb-8",children:[(0,a.jsx)("img",{src:Q,alt:"QR Code PIX",className:"rounded-xl border-2 border-sky-500/30 shadow-lg"}),(0,a.jsx)("p",{className:"text-sm text-slate-400 mt-4",children:"Escaneie este cÃ³digo com seu celular"})]}),(0,a.jsxs)("div",{className:"bg-slate-800/50 rounded-xl p-6 border border-slate-700",children:[(0,a.jsx)("p",{className:"text-xs text-slate-500 uppercase tracking-wider mb-2",children:"Chave PIX para Copiar"}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("code",{className:"flex-1 text-sky-300 font-mono text-sm break-all p-3 bg-slate-950 rounded-lg",children:t.default.env.NEXT_PUBLIC_PIX_KEY||"12345678901234567890"}),(0,a.jsx)("button",{onClick:h,className:"px-4 py-2 bg-sky-600 text-white rounded-lg font-semibold hover:bg-sky-700 transition-colors whitespace-nowrap",children:"Copiar"})]})]}),(0,a.jsxs)("div",{className:"mt-6 bg-slate-800/50 rounded-xl p-6 border border-slate-700",children:[(0,a.jsx)("p",{className:"text-xs text-slate-500 uppercase tracking-wider mb-2",children:"BR Code (para banco):"}),(0,a.jsx)("code",{className:"text-sky-300 font-mono text-xs break-all block p-3 bg-slate-950 rounded-lg max-h-24 overflow-y-auto",children:G})]})]}),K[47]=O.payment?.method,K[48]=O.payment?.status,K[49]=G,K[50]=Q,K[51]=B):B=K[51],K[52]!==O.id||K[53]!==O.payment?.method||K[54]!==O.payment?.status||K[55]!==O.total?(T=O.payment?.method==="whatsapp"&&O.payment?.status!=="paid"&&(0,a.jsxs)("div",{className:"glass-panel rounded-2xl p-8 border-sky-500/30",children:[(0,a.jsx)("h3",{className:"font-bold text-white mb-4 text-lg",children:"ðŸ’¬ Pagamento via WhatsApp"}),(0,a.jsx)("p",{className:"text-slate-300 mb-6",children:"Clique no botÃ£o abaixo para iniciar uma conversa comigo pelo WhatsApp. Ele te guiarÃ¡ atravÃ©s do pagamento."}),(0,a.jsx)("a",{href:`https://wa.me/5548996241068?text=Ol\xe1!%20Gostaria%20de%20pagar%20o%20pedido%20%23${O.id.slice(0,8)}%20no%20valor%20de%20R$%20${O.total.toFixed(2)}`,target:"_blank",rel:"noopener noreferrer",className:"inline-block px-8 py-4 bg-green-600 text-white rounded-xl font-bold hover:bg-green-700 transition-colors",children:"ðŸ’š Iniciar Chat no WhatsApp"})]}),K[52]=O.id,K[53]=O.payment?.method,K[54]=O.payment?.status,K[55]=O.total,K[56]=T):T=K[56],K[57]!==O.payment?.method||K[58]!==O.payment?.status?(A=O.payment?.method==="card"&&O.payment?.status!=="paid"&&(0,a.jsxs)("div",{className:"glass-panel rounded-2xl p-8 border-sky-500/30",children:[(0,a.jsx)("h3",{className:"font-bold text-white mb-4 text-lg",children:"ðŸ’³ Pagamento com CartÃ£o"}),(0,a.jsx)("p",{className:"text-slate-400 mb-6",children:"VocÃª serÃ¡ redirecionado para o gateway de pagamento seguro para finalizar com cartÃ£o."}),(0,a.jsx)("button",{className:"px-8 py-4 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 transition-colors",children:"Pagar com CartÃ£o (Stripe)"})]}),K[57]=O.payment?.method,K[58]=O.payment?.status,K[59]=A):A=K[59],K[60]!==O.id||K[61]!==O.payment?.method||K[62]!==O.payment?.status||K[63]!==O.total?(L=O.payment?.method==="manual"&&O.payment?.status!=="paid"&&(0,a.jsxs)("div",{className:"glass-panel rounded-2xl p-8 border-sky-500/30",children:[(0,a.jsx)("h3",{className:"font-bold text-white mb-4 text-lg",children:"ðŸ“ž Pagamento Manual"}),(0,a.jsx)("p",{className:"text-slate-400 mb-6",children:"Agradecemos sua escolha. Entraremos em contato em breve para finalizar o pagamento."}),(0,a.jsxs)("p",{className:"text-sm text-slate-500",children:["Pedido: #",O.id.slice(0,8)," | Valor: R$ ",O.total.toFixed(2)]})]}),K[60]=O.id,K[61]=O.payment?.method,K[62]=O.payment?.status,K[63]=O.total,K[64]=L):L=K[64],K[65]!==O.payment?.status?(U=O.payment?.status==="paid"&&(0,a.jsx)("div",{className:"glass-panel rounded-2xl p-8 border-green-500/30 bg-green-500/10",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(m.CheckCircle,{className:"h-16 w-16 text-green-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-2xl font-bold text-green-300 mb-2",children:"Pagamento Confirmado!"}),(0,a.jsx)("p",{className:"text-slate-300",children:"Seu pedido serÃ¡ processado em breve. VocÃª receberÃ¡ atualizaÃ§Ãµes por email."})]})}),K[65]=O.payment?.status,K[66]=U):U=K[66],K[67]!==P||K[68]!==$||K[69]!==B||K[70]!==T||K[71]!==A||K[72]!==L||K[73]!==U?(z=(0,a.jsxs)("div",{className:"space-y-6",children:[P,$,B,T,A,L,U]}),K[67]=P,K[68]=$,K[69]=B,K[70]=T,K[71]=A,K[72]=L,K[73]=U,K[74]=z):z=K[74],K[75]!==z||K[76]!==N?(F=(0,a.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-12 animate-fade-in",children:[N,z]}),K[75]=z,K[76]=N,K[77]=F):F=K[77],F}function h(){navigator.clipboard.writeText(t.default.env.NEXT_PUBLIC_PIX_KEY||"12345678901234567890"),alert("Chave copiada!")}function u(e){return(0,a.jsxs)("div",{className:"flex justify-between items-center bg-slate-800/50 p-3 rounded-lg border border-slate-700",children:[(0,a.jsx)("span",{className:"font-medium text-slate-300",children:e.title}),(0,a.jsxs)("span",{className:"font-bold text-sky-300",children:["R$ ",e.price.toFixed(2)]})]},e.cartId)}e.s(["default",()=>p],18404)}]);